{
  "version": 4,
  "terraform_version": "0.12.11",
  "serial": 149,
  "lineage": "61213ce8-fca5-8e8a-d6de-c6c8e337357c",
  "outputs": {
    "Hub-Subnets": {
      "value": {
        "AzureBastionSubnet": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/AzureBastionSubnet",
        "AzureFirewallSubnet": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/AzureFirewallSubnet",
        "GatewaySubnet": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/GatewaySubnet",
        "Hub-ExtWAF-Net01": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-ExtWAF-Net01",
        "Hub-IntWAF-Net01": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-IntWAF-Net01",
        "Hub-Net01": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-Net01",
        "Hub-WAD-Net01": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-WAD-Net01"
      },
      "type": [
        "object",
        {
          "AzureBastionSubnet": "string",
          "AzureFirewallSubnet": "string",
          "GatewaySubnet": "string",
          "Hub-ExtWAF-Net01": "string",
          "Hub-IntWAF-Net01": "string",
          "Hub-Net01": "string",
          "Hub-WAD-Net01": "string"
        }
      ]
    },
    "Hub-Vnet": {
      "value": {
        "address_space": [
          "10.3.0.0/22"
        ],
        "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet",
        "name": "Hub-VNet",
        "resource_group_name": "Hub-Network-RG"
      },
      "type": [
        "object",
        {
          "address_space": [
            "list",
            "string"
          ],
          "id": "string",
          "name": "string",
          "resource_group_name": "string"
        }
      ]
    },
    "Hub-Vnet-Id": {
      "value": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "terraform_remote_state",
      "name": "Prod-Ref",
      "provider": "provider.terraform",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "backend": "local",
            "config": {
              "value": {
                "path": "../prod/terraform.tfstate"
              },
              "type": [
                "object",
                {
                  "path": "string"
                }
              ]
            },
            "defaults": null,
            "outputs": {
              "value": {
                "prodvmbootdiagsa": {
                  "access_tier": "",
                  "account_encryption_source": "Microsoft.Storage",
                  "account_kind": "Storage",
                  "account_replication_type": "LRS",
                  "account_tier": "Standard",
                  "account_type": "Standard_LRS",
                  "custom_domain": [],
                  "enable_advanced_threat_protection": false,
                  "enable_blob_encryption": true,
                  "enable_file_encryption": true,
                  "enable_https_traffic_only": false,
                  "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Prod-Mgmt-RG/providers/Microsoft.Storage/storageAccounts/prodvmbootdiagsa",
                  "identity": [],
                  "is_hns_enabled": false,
                  "location": "southeastasia",
                  "name": "prodvmbootdiagsa",
                  "network_rules": [],
                  "primary_access_key": "72i8ADdYn1bmRF8GS/rxJW/jfZe5b3tIEx7AzuXh6+nzuQr+7VEg1O4eZs5Q2iwHyxcxAPzdCYew+oKwGQpo8A==",
                  "primary_blob_connection_string": "DefaultEndpointsProtocol=https;BlobEndpoint=https://prodvmbootdiagsa.blob.core.windows.net/;AccountName=prodvmbootdiagsa;AccountKey=72i8ADdYn1bmRF8GS/rxJW/jfZe5b3tIEx7AzuXh6+nzuQr+7VEg1O4eZs5Q2iwHyxcxAPzdCYew+oKwGQpo8A==",
                  "primary_blob_endpoint": "https://prodvmbootdiagsa.blob.core.windows.net/",
                  "primary_blob_host": "prodvmbootdiagsa.blob.core.windows.net",
                  "primary_connection_string": "DefaultEndpointsProtocol=https;AccountName=prodvmbootdiagsa;AccountKey=72i8ADdYn1bmRF8GS/rxJW/jfZe5b3tIEx7AzuXh6+nzuQr+7VEg1O4eZs5Q2iwHyxcxAPzdCYew+oKwGQpo8A==;EndpointSuffix=core.windows.net",
                  "primary_dfs_endpoint": "",
                  "primary_dfs_host": "",
                  "primary_file_endpoint": "https://prodvmbootdiagsa.file.core.windows.net/",
                  "primary_file_host": "prodvmbootdiagsa.file.core.windows.net",
                  "primary_location": "southeastasia",
                  "primary_queue_endpoint": "https://prodvmbootdiagsa.queue.core.windows.net/",
                  "primary_queue_host": "prodvmbootdiagsa.queue.core.windows.net",
                  "primary_table_endpoint": "https://prodvmbootdiagsa.table.core.windows.net/",
                  "primary_table_host": "prodvmbootdiagsa.table.core.windows.net",
                  "primary_web_endpoint": "",
                  "primary_web_host": "",
                  "queue_properties": [
                    {
                      "cors_rule": [],
                      "hour_metrics": [
                        {
                          "enabled": true,
                          "include_apis": true,
                          "retention_policy_days": 7,
                          "version": "1.0"
                        }
                      ],
                      "logging": [
                        {
                          "delete": false,
                          "read": false,
                          "retention_policy_days": 0,
                          "version": "1.0",
                          "write": false
                        }
                      ],
                      "minute_metrics": [
                        {
                          "enabled": false,
                          "include_apis": false,
                          "retention_policy_days": 0,
                          "version": "1.0"
                        }
                      ]
                    }
                  ],
                  "resource_group_name": "Prod-Mgmt-RG",
                  "secondary_access_key": "HXB/15uQUBxOW2LV38ehFyHY4C7Yr9pgq7h/9szEbvNhYSb2ah9HlJngQNycdZlsdixcOAXFSdi1KWgQfsWycg==",
                  "secondary_blob_connection_string": "",
                  "secondary_blob_endpoint": null,
                  "secondary_blob_host": null,
                  "secondary_connection_string": "DefaultEndpointsProtocol=https;AccountName=prodvmbootdiagsa;AccountKey=HXB/15uQUBxOW2LV38ehFyHY4C7Yr9pgq7h/9szEbvNhYSb2ah9HlJngQNycdZlsdixcOAXFSdi1KWgQfsWycg==;EndpointSuffix=core.windows.net",
                  "secondary_dfs_endpoint": null,
                  "secondary_dfs_host": null,
                  "secondary_file_endpoint": null,
                  "secondary_file_host": null,
                  "secondary_location": "",
                  "secondary_queue_endpoint": null,
                  "secondary_queue_host": null,
                  "secondary_table_endpoint": null,
                  "secondary_table_host": null,
                  "secondary_web_endpoint": null,
                  "secondary_web_host": null,
                  "tags": {}
                }
              },
              "type": [
                "object",
                {
                  "prodvmbootdiagsa": [
                    "object",
                    {
                      "access_tier": "string",
                      "account_encryption_source": "string",
                      "account_kind": "string",
                      "account_replication_type": "string",
                      "account_tier": "string",
                      "account_type": "string",
                      "custom_domain": [
                        "list",
                        [
                          "object",
                          {
                            "name": "string",
                            "use_subdomain": "bool"
                          }
                        ]
                      ],
                      "enable_advanced_threat_protection": "bool",
                      "enable_blob_encryption": "bool",
                      "enable_file_encryption": "bool",
                      "enable_https_traffic_only": "bool",
                      "id": "string",
                      "identity": [
                        "list",
                        [
                          "object",
                          {
                            "principal_id": "string",
                            "tenant_id": "string",
                            "type": "string"
                          }
                        ]
                      ],
                      "is_hns_enabled": "bool",
                      "location": "string",
                      "name": "string",
                      "network_rules": [
                        "list",
                        [
                          "object",
                          {
                            "bypass": [
                              "set",
                              "string"
                            ],
                            "default_action": "string",
                            "ip_rules": [
                              "set",
                              "string"
                            ],
                            "virtual_network_subnet_ids": [
                              "set",
                              "string"
                            ]
                          }
                        ]
                      ],
                      "primary_access_key": "string",
                      "primary_blob_connection_string": "string",
                      "primary_blob_endpoint": "string",
                      "primary_blob_host": "string",
                      "primary_connection_string": "string",
                      "primary_dfs_endpoint": "string",
                      "primary_dfs_host": "string",
                      "primary_file_endpoint": "string",
                      "primary_file_host": "string",
                      "primary_location": "string",
                      "primary_queue_endpoint": "string",
                      "primary_queue_host": "string",
                      "primary_table_endpoint": "string",
                      "primary_table_host": "string",
                      "primary_web_endpoint": "string",
                      "primary_web_host": "string",
                      "queue_properties": [
                        "list",
                        [
                          "object",
                          {
                            "cors_rule": [
                              "list",
                              [
                                "object",
                                {
                                  "allowed_headers": [
                                    "list",
                                    "string"
                                  ],
                                  "allowed_methods": [
                                    "list",
                                    "string"
                                  ],
                                  "allowed_origins": [
                                    "list",
                                    "string"
                                  ],
                                  "exposed_headers": [
                                    "list",
                                    "string"
                                  ],
                                  "max_age_in_seconds": "number"
                                }
                              ]
                            ],
                            "hour_metrics": [
                              "list",
                              [
                                "object",
                                {
                                  "enabled": "bool",
                                  "include_apis": "bool",
                                  "retention_policy_days": "number",
                                  "version": "string"
                                }
                              ]
                            ],
                            "logging": [
                              "list",
                              [
                                "object",
                                {
                                  "delete": "bool",
                                  "read": "bool",
                                  "retention_policy_days": "number",
                                  "version": "string",
                                  "write": "bool"
                                }
                              ]
                            ],
                            "minute_metrics": [
                              "list",
                              [
                                "object",
                                {
                                  "enabled": "bool",
                                  "include_apis": "bool",
                                  "retention_policy_days": "number",
                                  "version": "string"
                                }
                              ]
                            ]
                          }
                        ]
                      ],
                      "resource_group_name": "string",
                      "secondary_access_key": "string",
                      "secondary_blob_connection_string": "string",
                      "secondary_blob_endpoint": "string",
                      "secondary_blob_host": "string",
                      "secondary_connection_string": "string",
                      "secondary_dfs_endpoint": "string",
                      "secondary_dfs_host": "string",
                      "secondary_file_endpoint": "string",
                      "secondary_file_host": "string",
                      "secondary_location": "string",
                      "secondary_queue_endpoint": "string",
                      "secondary_queue_host": "string",
                      "secondary_table_endpoint": "string",
                      "secondary_table_host": "string",
                      "secondary_web_endpoint": "string",
                      "secondary_web_host": "string",
                      "tags": [
                        "map",
                        "string"
                      ]
                    }
                  ]
                }
              ]
            },
            "workspace": "default"
          }
        }
      ]
    },
    {
      "module": "module.Hub-Int-DMZ-APPGW01",
      "mode": "managed",
      "type": "azurerm_application_gateway",
      "name": "appgw",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "authentication_certificate": [],
            "autoscale_configuration": [],
            "backend_address_pool": [
              {
                "fqdn_list": [],
                "fqdns": [],
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Int-DMZ-APPGW01/backendAddressPools/default_pool",
                "ip_address_list": [
                  "11.1.1.1"
                ],
                "ip_addresses": [
                  "11.1.1.1"
                ],
                "name": "default_pool"
              }
            ],
            "backend_http_settings": [
              {
                "affinity_cookie_name": "",
                "authentication_certificate": [],
                "connection_draining": [],
                "cookie_based_affinity": "Disabled",
                "host_name": "",
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Int-DMZ-APPGW01/backendHttpSettingsCollection/default_be_http_setting",
                "name": "default_be_http_setting",
                "path": "/path",
                "pick_host_name_from_backend_address": false,
                "port": 80,
                "probe_id": "",
                "probe_name": "",
                "protocol": "Http",
                "request_timeout": 20
              }
            ],
            "custom_error_configuration": [],
            "disabled_ssl_protocols": [],
            "enable_http2": false,
            "frontend_ip_configuration": [
              {
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Int-DMZ-APPGW01/frontendIPConfigurations/Hub-Int-DMZ-APPGW01-PIP01-IP-Config",
                "name": "Hub-Int-DMZ-APPGW01-PIP01-IP-Config",
                "private_ip_address": "",
                "private_ip_address_allocation": "Dynamic",
                "public_ip_address_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/publicIPAddresses/Hub-Int-DMZ-APPGW01-PIP01",
                "subnet_id": ""
              }
            ],
            "frontend_port": [
              {
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Int-DMZ-APPGW01/frontendPorts/port_80",
                "name": "port_80",
                "port": 80
              }
            ],
            "gateway_ip_configuration": [
              {
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Int-DMZ-APPGW01/gatewayIPConfigurations/Hub-Int-DMZ-APPGW01-IP-Config",
                "name": "Hub-Int-DMZ-APPGW01-IP-Config",
                "subnet_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-IntWAF-Net01"
              }
            ],
            "http_listener": [
              {
                "custom_error_configuration": [],
                "frontend_ip_configuration_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Int-DMZ-APPGW01/frontendIPConfigurations/Hub-Int-DMZ-APPGW01-PIP01-IP-Config",
                "frontend_ip_configuration_name": "Hub-Int-DMZ-APPGW01-PIP01-IP-Config",
                "frontend_port_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Int-DMZ-APPGW01/frontendPorts/port_80",
                "frontend_port_name": "port_80",
                "host_name": "",
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Int-DMZ-APPGW01/httpListeners/default_listener",
                "name": "default_listener",
                "protocol": "Http",
                "require_sni": false,
                "ssl_certificate_id": "",
                "ssl_certificate_name": ""
              }
            ],
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Int-DMZ-APPGW01",
            "identity": [],
            "location": "southeastasia",
            "name": "Hub-Int-DMZ-APPGW01",
            "probe": [],
            "redirect_configuration": [],
            "request_routing_rule": [
              {
                "backend_address_pool_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Int-DMZ-APPGW01/backendAddressPools/default_pool",
                "backend_address_pool_name": "default_pool",
                "backend_http_settings_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Int-DMZ-APPGW01/backendHttpSettingsCollection/default_be_http_setting",
                "backend_http_settings_name": "default_be_http_setting",
                "http_listener_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Int-DMZ-APPGW01/httpListeners/default_listener",
                "http_listener_name": "default_listener",
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Int-DMZ-APPGW01/requestRoutingRules/default_rule",
                "name": "default_rule",
                "redirect_configuration_id": "",
                "redirect_configuration_name": "",
                "rewrite_rule_set_id": "",
                "rewrite_rule_set_name": "",
                "rule_type": "Basic",
                "url_path_map_id": "",
                "url_path_map_name": ""
              }
            ],
            "resource_group_name": "Hub-Network-RG",
            "rewrite_rule_set": [],
            "sku": [
              {
                "capacity": 2,
                "name": "WAF_v2",
                "tier": "WAF_v2"
              }
            ],
            "ssl_certificate": [],
            "ssl_policy": [
              {
                "cipher_suites": [],
                "disabled_protocols": [],
                "min_protocol_version": "",
                "policy_name": "",
                "policy_type": ""
              }
            ],
            "tags": {},
            "trusted_root_certificate": [],
            "url_path_map": [],
            "waf_configuration": [],
            "zones": []
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_public_ip.appgwPip"
          ]
        }
      ]
    },
    {
      "module": "module.Hub-Ext-DMZ-APPGW01",
      "mode": "managed",
      "type": "azurerm_application_gateway",
      "name": "appgw",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "authentication_certificate": [],
            "autoscale_configuration": [],
            "backend_address_pool": [
              {
                "fqdn_list": [],
                "fqdns": [],
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Ext-DMZ-APPGW01/backendAddressPools/default_pool",
                "ip_address_list": [
                  "11.1.1.1"
                ],
                "ip_addresses": [
                  "11.1.1.1"
                ],
                "name": "default_pool"
              }
            ],
            "backend_http_settings": [
              {
                "affinity_cookie_name": "",
                "authentication_certificate": [],
                "connection_draining": [],
                "cookie_based_affinity": "Disabled",
                "host_name": "",
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Ext-DMZ-APPGW01/backendHttpSettingsCollection/default_be_http_setting",
                "name": "default_be_http_setting",
                "path": "/path",
                "pick_host_name_from_backend_address": false,
                "port": 80,
                "probe_id": "",
                "probe_name": "",
                "protocol": "Http",
                "request_timeout": 20
              }
            ],
            "custom_error_configuration": [],
            "disabled_ssl_protocols": [],
            "enable_http2": false,
            "frontend_ip_configuration": [
              {
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Ext-DMZ-APPGW01/frontendIPConfigurations/Hub-Ext-DMZ-APPGW01-PIP01-IP-Config",
                "name": "Hub-Ext-DMZ-APPGW01-PIP01-IP-Config",
                "private_ip_address": "",
                "private_ip_address_allocation": "Dynamic",
                "public_ip_address_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/publicIPAddresses/Hub-Ext-DMZ-APPGW01-PIP01",
                "subnet_id": ""
              }
            ],
            "frontend_port": [
              {
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Ext-DMZ-APPGW01/frontendPorts/port_80",
                "name": "port_80",
                "port": 80
              }
            ],
            "gateway_ip_configuration": [
              {
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Ext-DMZ-APPGW01/gatewayIPConfigurations/Hub-Ext-DMZ-APPGW01-IP-Config",
                "name": "Hub-Ext-DMZ-APPGW01-IP-Config",
                "subnet_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-ExtWAF-Net01"
              }
            ],
            "http_listener": [
              {
                "custom_error_configuration": [],
                "frontend_ip_configuration_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Ext-DMZ-APPGW01/frontendIPConfigurations/Hub-Ext-DMZ-APPGW01-PIP01-IP-Config",
                "frontend_ip_configuration_name": "Hub-Ext-DMZ-APPGW01-PIP01-IP-Config",
                "frontend_port_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Ext-DMZ-APPGW01/frontendPorts/port_80",
                "frontend_port_name": "port_80",
                "host_name": "",
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Ext-DMZ-APPGW01/httpListeners/default_listener",
                "name": "default_listener",
                "protocol": "Http",
                "require_sni": false,
                "ssl_certificate_id": "",
                "ssl_certificate_name": ""
              }
            ],
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Ext-DMZ-APPGW01",
            "identity": [],
            "location": "southeastasia",
            "name": "Hub-Ext-DMZ-APPGW01",
            "probe": [],
            "redirect_configuration": [],
            "request_routing_rule": [
              {
                "backend_address_pool_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Ext-DMZ-APPGW01/backendAddressPools/default_pool",
                "backend_address_pool_name": "default_pool",
                "backend_http_settings_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Ext-DMZ-APPGW01/backendHttpSettingsCollection/default_be_http_setting",
                "backend_http_settings_name": "default_be_http_setting",
                "http_listener_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Ext-DMZ-APPGW01/httpListeners/default_listener",
                "http_listener_name": "default_listener",
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/applicationGateways/Hub-Ext-DMZ-APPGW01/requestRoutingRules/default_rule",
                "name": "default_rule",
                "redirect_configuration_id": "",
                "redirect_configuration_name": "",
                "rewrite_rule_set_id": "",
                "rewrite_rule_set_name": "",
                "rule_type": "Basic",
                "url_path_map_id": "",
                "url_path_map_name": ""
              }
            ],
            "resource_group_name": "Hub-Network-RG",
            "rewrite_rule_set": [],
            "sku": [
              {
                "capacity": 2,
                "name": "WAF_v2",
                "tier": "WAF_v2"
              }
            ],
            "ssl_certificate": [],
            "ssl_policy": [
              {
                "cipher_suites": [],
                "disabled_protocols": [],
                "min_protocol_version": "",
                "policy_name": "",
                "policy_type": ""
              }
            ],
            "tags": {},
            "trusted_root_certificate": [],
            "url_path_map": [],
            "waf_configuration": [],
            "zones": []
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_public_ip.appgwPip"
          ]
        }
      ]
    },
    {
      "module": "module.Hub-Az-FW01",
      "mode": "managed",
      "type": "azurerm_firewall",
      "name": "firewall",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/azureFirewalls/Hub-Az-FW01",
            "ip_configuration": [
              {
                "internal_public_ip_address_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/publicIPAddresses/Hub-Az-FW01-PIP01",
                "name": "Hub-Az-FW01-PIP01-Config",
                "private_ip_address": "10.3.0.4",
                "public_ip_address_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/publicIPAddresses/Hub-Az-FW01-PIP01",
                "subnet_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/AzureFirewallSubnet"
              }
            ],
            "location": "southeastasia",
            "name": "Hub-Az-FW01",
            "resource_group_name": "Hub-Network-RG",
            "tags": {}
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_public_ip.fw_pip"
          ]
        }
      ]
    },
    {
      "module": "module.Hub-Az-FW01",
      "mode": "managed",
      "type": "azurerm_firewall_application_rule_collection",
      "name": "AppRuleSet",
      "each": "list",
      "provider": "provider.azurerm",
      "instances": []
    },
    {
      "module": "module.Hub-Az-FW01",
      "mode": "managed",
      "type": "azurerm_firewall_nat_rule_collection",
      "name": "NATRuleSet",
      "each": "list",
      "provider": "provider.azurerm",
      "instances": []
    },
    {
      "module": "module.Hub-Az-FW01",
      "mode": "managed",
      "type": "azurerm_firewall_network_rule_collection",
      "name": "NetworkRuleSet",
      "each": "list",
      "provider": "provider.azurerm",
      "instances": []
    },
    {
      "module": "module.Hub-S2S-VPN",
      "mode": "managed",
      "type": "azurerm_local_network_gateway",
      "name": "gateway_local",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "172.0.0.0/8"
            ],
            "bgp_settings": [],
            "gateway_address": "121.123.236.197",
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/localNetworkGateways/Hub-Local-VPN-GW01",
            "location": "southeastasia",
            "name": "Hub-Local-VPN-GW01",
            "resource_group_name": "Hub-Network-RG",
            "tags": {}
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.HUBWAD01",
      "mode": "managed",
      "type": "azurerm_network_interface",
      "name": "nic",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "applied_dns_servers": [],
            "dns_servers": [],
            "enable_accelerated_networking": false,
            "enable_ip_forwarding": false,
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-WAD-RG/providers/Microsoft.Network/networkInterfaces/HUBWAD01-Nic",
            "internal_dns_name_label": "",
            "internal_fqdn": "",
            "ip_configuration": [
              {
                "application_gateway_backend_address_pools_ids": [],
                "application_security_group_ids": [],
                "load_balancer_backend_address_pools_ids": [],
                "load_balancer_inbound_nat_rules_ids": [],
                "name": "HUBWAD01-Nic-Ipconfig",
                "primary": true,
                "private_ip_address": "10.3.1.20",
                "private_ip_address_allocation": "static",
                "private_ip_address_version": "IPv4",
                "public_ip_address_id": "",
                "subnet_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-WAD-Net01"
              }
            ],
            "location": "southeastasia",
            "mac_address": "00-0D-3A-09-04-A3",
            "name": "HUBWAD01-Nic",
            "network_security_group_id": "",
            "private_ip_address": "10.3.1.20",
            "private_ip_addresses": [
              "10.3.1.20"
            ],
            "resource_group_name": "Hub-WAD-RG",
            "tags": {},
            "virtual_machine_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-WAD-RG/providers/Microsoft.Compute/virtualMachines/HUBWAD01"
          }
        }
      ]
    },
    {
      "module": "module.Hub-ExtWAF-NSG",
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "nsg",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-ExtWAF-NSG",
            "location": "southeastasia",
            "name": "Hub-ExtWAF-NSG",
            "resource_group_name": "Hub-Network-RG",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "*",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "Allow_Inbound_Ext_DMZ",
                "priority": 1000,
                "protocol": "TCP",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": " 65200-65535",
                "source_port_ranges": []
              }
            ],
            "tags": {}
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.Hub-IntWAF-NSG",
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "nsg",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-IntWAF-NSG",
            "location": "southeastasia",
            "name": "Hub-IntWAF-NSG",
            "resource_group_name": "Hub-Network-RG",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "*",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "Allow_Inbound_Int_DMZ",
                "priority": 1000,
                "protocol": "TCP",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": " 65200-65535",
                "source_port_ranges": []
              }
            ],
            "tags": {}
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.Hub-WAD-Net01-NSG",
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "nsg",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-WAD-Net01-NSG",
            "location": "southeastasia",
            "name": "Hub-WAD-Net01-NSG",
            "resource_group_name": "Hub-Network-RG",
            "security_rule": [],
            "tags": {}
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.Hub-Net01-NSG",
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "nsg",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-Net01-NSG",
            "location": "southeastasia",
            "name": "Hub-Net01-NSG",
            "resource_group_name": "Hub-Network-RG",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "10.3.1.4",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "3389",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "port_3389",
                "priority": 1000,
                "protocol": "*",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": {}
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.Hub-ExtWAF-NSG",
      "mode": "managed",
      "type": "azurerm_network_security_rule",
      "name": "nsgRuleSet",
      "each": "list",
      "provider": "provider.azurerm",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "access": "Allow",
            "description": "",
            "destination_address_prefix": "*",
            "destination_address_prefixes": [],
            "destination_application_security_group_ids": [],
            "destination_port_range": "*",
            "destination_port_ranges": [],
            "direction": "Inbound",
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-ExtWAF-NSG/securityRules/Allow_Inbound_Ext_DMZ",
            "name": "Allow_Inbound_Ext_DMZ",
            "network_security_group_name": "Hub-ExtWAF-NSG",
            "priority": 1000,
            "protocol": "TCP",
            "resource_group_name": "Hub-Network-RG",
            "source_address_prefix": "*",
            "source_address_prefixes": [],
            "source_application_security_group_ids": [],
            "source_port_range": " 65200-65535",
            "source_port_ranges": []
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_network_security_group.nsg"
          ]
        }
      ]
    },
    {
      "module": "module.Hub-IntWAF-NSG",
      "mode": "managed",
      "type": "azurerm_network_security_rule",
      "name": "nsgRuleSet",
      "each": "list",
      "provider": "provider.azurerm",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "access": "Allow",
            "description": "",
            "destination_address_prefix": "*",
            "destination_address_prefixes": [],
            "destination_application_security_group_ids": [],
            "destination_port_range": "*",
            "destination_port_ranges": [],
            "direction": "Inbound",
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-IntWAF-NSG/securityRules/Allow_Inbound_Int_DMZ",
            "name": "Allow_Inbound_Int_DMZ",
            "network_security_group_name": "Hub-IntWAF-NSG",
            "priority": 1000,
            "protocol": "TCP",
            "resource_group_name": "Hub-Network-RG",
            "source_address_prefix": "*",
            "source_address_prefixes": [],
            "source_application_security_group_ids": [],
            "source_port_range": " 65200-65535",
            "source_port_ranges": []
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_network_security_group.nsg"
          ]
        }
      ]
    },
    {
      "module": "module.Hub-WAD-Net01-NSG",
      "mode": "managed",
      "type": "azurerm_network_security_rule",
      "name": "nsgRuleSet",
      "each": "list",
      "provider": "provider.azurerm",
      "instances": []
    },
    {
      "module": "module.Hub-Net01-NSG",
      "mode": "managed",
      "type": "azurerm_network_security_rule",
      "name": "nsgRuleSet",
      "each": "list",
      "provider": "provider.azurerm",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "access": "Allow",
            "description": "",
            "destination_address_prefix": "10.3.1.4",
            "destination_address_prefixes": [],
            "destination_application_security_group_ids": [],
            "destination_port_range": "3389",
            "destination_port_ranges": [],
            "direction": "Inbound",
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-Net01-NSG/securityRules/port_3389",
            "name": "port_3389",
            "network_security_group_name": "Hub-Net01-NSG",
            "priority": 1000,
            "protocol": "*",
            "resource_group_name": "Hub-Network-RG",
            "source_address_prefix": "*",
            "source_address_prefixes": [],
            "source_application_security_group_ids": [],
            "source_port_range": "*",
            "source_port_ranges": []
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_network_security_group.nsg"
          ]
        }
      ]
    },
    {
      "module": "module.Hub-Int-DMZ-APPGW01",
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "appgwPip",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "domain_name_label": null,
            "fqdn": null,
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/publicIPAddresses/Hub-Int-DMZ-APPGW01-PIP01",
            "idle_timeout_in_minutes": 4,
            "ip_address": "40.90.188.42",
            "ip_version": "IPv4",
            "location": "southeastasia",
            "name": "Hub-Int-DMZ-APPGW01-PIP01",
            "public_ip_address_allocation": "Static",
            "public_ip_prefix_id": null,
            "resource_group_name": "Hub-Network-RG",
            "reverse_fqdn": null,
            "sku": "Standard",
            "tags": {},
            "zones": []
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.Hub-Ext-DMZ-APPGW01",
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "appgwPip",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "domain_name_label": null,
            "fqdn": null,
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/publicIPAddresses/Hub-Ext-DMZ-APPGW01-PIP01",
            "idle_timeout_in_minutes": 4,
            "ip_address": "52.139.232.231",
            "ip_version": "IPv4",
            "location": "southeastasia",
            "name": "Hub-Ext-DMZ-APPGW01-PIP01",
            "public_ip_address_allocation": "Static",
            "public_ip_prefix_id": null,
            "resource_group_name": "Hub-Network-RG",
            "reverse_fqdn": null,
            "sku": "Standard",
            "tags": {},
            "zones": []
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.Hub-Az-FW01",
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "fw_pip",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "domain_name_label": null,
            "fqdn": null,
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/publicIPAddresses/Hub-Az-FW01-PIP01",
            "idle_timeout_in_minutes": 4,
            "ip_address": "52.139.251.52",
            "ip_version": "IPv4",
            "location": "southeastasia",
            "name": "Hub-Az-FW01-PIP01",
            "public_ip_address_allocation": "Static",
            "public_ip_prefix_id": null,
            "resource_group_name": "Hub-Network-RG",
            "reverse_fqdn": null,
            "sku": "Standard",
            "tags": {},
            "zones": []
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.Hub-S2S-VPN",
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "gwpip",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Dynamic",
            "domain_name_label": null,
            "fqdn": null,
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/publicIPAddresses/Hub-VPN-GW01-PIP01",
            "idle_timeout_in_minutes": 4,
            "ip_address": "168.63.237.235",
            "ip_version": "IPv4",
            "location": "southeastasia",
            "name": "Hub-VPN-GW01-PIP01",
            "public_ip_address_allocation": "Dynamic",
            "public_ip_prefix_id": null,
            "resource_group_name": "Hub-Network-RG",
            "reverse_fqdn": null,
            "sku": "Basic",
            "tags": {},
            "zones": []
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.Hub-WAD-RG",
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "rg",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-WAD-RG",
            "location": "southeastasia",
            "name": "Hub-WAD-RG",
            "tags": {}
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.Prod-Hub",
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "rgroup",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG",
            "location": "southeastasia",
            "name": "Hub-Network-RG",
            "tags": {}
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.Prod-Hub",
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "subnets",
      "each": "list",
      "provider": "provider.azurerm",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "address_prefix": "10.3.0.224/27",
            "delegation": [],
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/AzureBastionSubnet",
            "ip_configurations": [],
            "name": "AzureBastionSubnet",
            "network_security_group_id": "",
            "resource_group_name": "Hub-Network-RG",
            "route_table_id": "",
            "service_endpoints": [],
            "virtual_network_name": "Hub-VNet"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_resource_group.rgroup",
            "azurerm_virtual_network.vnet"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "address_prefix": "10.3.0.0/26",
            "delegation": [],
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/AzureFirewallSubnet",
            "ip_configurations": [
              "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/azureFirewalls/Hub-Az-FW01/azureFirewallIpConfigurations/Hub-Az-FW01-PIP01-Config"
            ],
            "name": "AzureFirewallSubnet",
            "network_security_group_id": "",
            "resource_group_name": "Hub-Network-RG",
            "route_table_id": "",
            "service_endpoints": [],
            "virtual_network_name": "Hub-VNet"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_resource_group.rgroup",
            "azurerm_virtual_network.vnet"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "address_prefix": "10.3.0.192/27",
            "delegation": [],
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/GatewaySubnet",
            "ip_configurations": [
              "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworkGateways/Hub-ER-GW01/ipConfigurations/default",
              "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworkGateways/Hub-VPN-GW01/ipConfigurations/Hub-VPN-GW01-PIP01-Config"
            ],
            "name": "GatewaySubnet",
            "network_security_group_id": "",
            "resource_group_name": "Hub-Network-RG",
            "route_table_id": "",
            "service_endpoints": [],
            "virtual_network_name": "Hub-VNet"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_resource_group.rgroup",
            "azurerm_virtual_network.vnet"
          ]
        },
        {
          "index_key": 3,
          "schema_version": 0,
          "attributes": {
            "address_prefix": "10.3.0.64/26",
            "delegation": [],
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-ExtWAF-Net01",
            "ip_configurations": [],
            "name": "Hub-ExtWAF-Net01",
            "network_security_group_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-ExtWAF-NSG",
            "resource_group_name": "Hub-Network-RG",
            "route_table_id": "",
            "service_endpoints": [],
            "virtual_network_name": "Hub-VNet"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_resource_group.rgroup",
            "azurerm_virtual_network.vnet"
          ]
        },
        {
          "index_key": 4,
          "schema_version": 0,
          "attributes": {
            "address_prefix": "10.3.0.128/26",
            "delegation": [],
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-IntWAF-Net01",
            "ip_configurations": [],
            "name": "Hub-IntWAF-Net01",
            "network_security_group_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-IntWAF-NSG",
            "resource_group_name": "Hub-Network-RG",
            "route_table_id": "",
            "service_endpoints": [],
            "virtual_network_name": "Hub-VNet"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_resource_group.rgroup",
            "azurerm_virtual_network.vnet"
          ]
        },
        {
          "index_key": 5,
          "schema_version": 0,
          "attributes": {
            "address_prefix": "10.3.1.0/28",
            "delegation": [],
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-Net01",
            "ip_configurations": [
              "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/HUB-CIS-RG/providers/Microsoft.Network/networkInterfaces/ws2016cis01760/ipConfigurations/ipconfig1"
            ],
            "name": "Hub-Net01",
            "network_security_group_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-Net01-NSG",
            "resource_group_name": "Hub-Network-RG",
            "route_table_id": "",
            "service_endpoints": [],
            "virtual_network_name": "Hub-VNet"
          }
        },
        {
          "index_key": 6,
          "schema_version": 0,
          "attributes": {
            "address_prefix": "10.3.1.16/28",
            "delegation": [],
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-WAD-Net01",
            "ip_configurations": [
              "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-WAD-RG/providers/Microsoft.Network/networkInterfaces/HUBWAD01-Nic/ipConfigurations/HUBWAD01-Nic-Ipconfig"
            ],
            "name": "Hub-WAD-Net01",
            "network_security_group_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-WAD-Net01-NSG",
            "resource_group_name": "Hub-Network-RG",
            "route_table_id": "",
            "service_endpoints": [],
            "virtual_network_name": "Hub-VNet"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_resource_group.rgroup",
            "azurerm_virtual_network.vnet"
          ]
        }
      ]
    },
    {
      "module": "module.Hub-ExtWAF-NSG",
      "mode": "managed",
      "type": "azurerm_subnet_network_security_group_association",
      "name": "nsgAssociation",
      "each": "list",
      "provider": "provider.azurerm",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-ExtWAF-Net01",
            "network_security_group_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-ExtWAF-NSG",
            "subnet_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-ExtWAF-Net01"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_network_security_group.nsg"
          ]
        }
      ]
    },
    {
      "module": "module.Hub-IntWAF-NSG",
      "mode": "managed",
      "type": "azurerm_subnet_network_security_group_association",
      "name": "nsgAssociation",
      "each": "list",
      "provider": "provider.azurerm",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-IntWAF-Net01",
            "network_security_group_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-IntWAF-NSG",
            "subnet_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-IntWAF-Net01"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_network_security_group.nsg"
          ]
        }
      ]
    },
    {
      "module": "module.Hub-WAD-Net01-NSG",
      "mode": "managed",
      "type": "azurerm_subnet_network_security_group_association",
      "name": "nsgAssociation",
      "each": "list",
      "provider": "provider.azurerm",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-WAD-Net01",
            "network_security_group_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-WAD-Net01-NSG",
            "subnet_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-WAD-Net01"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_network_security_group.nsg"
          ]
        }
      ]
    },
    {
      "module": "module.Hub-Net01-NSG",
      "mode": "managed",
      "type": "azurerm_subnet_network_security_group_association",
      "name": "nsgAssociation",
      "each": "list",
      "provider": "provider.azurerm",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-Net01",
            "network_security_group_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-Net01-NSG",
            "subnet_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-Net01"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_network_security_group.nsg"
          ]
        }
      ]
    },
    {
      "module": "module.HUBWAD01",
      "mode": "managed",
      "type": "azurerm_virtual_machine",
      "name": "vm",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "additional_capabilities": [],
            "availability_set_id": null,
            "boot_diagnostics": [
              {
                "enabled": true,
                "storage_uri": "https://prodvmbootdiagsa.blob.core.windows.net/"
              }
            ],
            "delete_data_disks_on_termination": false,
            "delete_os_disk_on_termination": false,
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-WAD-RG/providers/Microsoft.Compute/virtualMachines/HUBWAD01",
            "identity": [],
            "license_type": null,
            "location": "southeastasia",
            "name": "HUBWAD01",
            "network_interface_ids": [
              "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-WAD-RG/providers/Microsoft.Network/networkInterfaces/HUBWAD01-Nic"
            ],
            "os_profile": [
              {
                "admin_password": "",
                "admin_username": "admin.astro",
                "computer_name": "HUBWAD01",
                "custom_data": ""
              }
            ],
            "os_profile_linux_config": [],
            "os_profile_secrets": [],
            "os_profile_windows_config": [
              {
                "additional_unattend_config": [],
                "enable_automatic_upgrades": false,
                "provision_vm_agent": true,
                "timezone": "",
                "winrm": []
              }
            ],
            "plan": [
              {
                "name": "cis-ws2016-l1",
                "product": "cis-windows-server-2016-v1-0-0-l1",
                "publisher": "center-for-internet-security-inc"
              }
            ],
            "primary_network_interface_id": null,
            "proximity_placement_group_id": null,
            "resource_group_name": "Hub-WAD-RG",
            "storage_data_disk": [
              {
                "caching": "None",
                "create_option": "Empty",
                "disk_size_gb": 128,
                "lun": 0,
                "managed_disk_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-WAD-RG/providers/Microsoft.Compute/disks/HUBWAD01-Data-Disk-0",
                "managed_disk_type": "Premium_LRS",
                "name": "HUBWAD01-Data-Disk-0",
                "vhd_uri": "",
                "write_accelerator_enabled": false
              }
            ],
            "storage_image_reference": [
              {
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/PROD-CIS-RG/providers/Microsoft.Compute/images/WS2016_251019",
                "offer": "",
                "publisher": "",
                "sku": "",
                "version": ""
              }
            ],
            "storage_os_disk": [
              {
                "caching": "ReadWrite",
                "create_option": "FromImage",
                "disk_size_gb": 30,
                "image_uri": "",
                "managed_disk_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-WAD-RG/providers/Microsoft.Compute/disks/HUBWAD01-OS-Disk",
                "managed_disk_type": "Premium_LRS",
                "name": "HUBWAD01-OS-Disk",
                "os_type": "Windows",
                "vhd_uri": "",
                "write_accelerator_enabled": false
              }
            ],
            "tags": {},
            "vm_size": "Standard_D2s_v3",
            "zones": []
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_network_interface.nic"
          ]
        }
      ]
    },
    {
      "module": "module.Prod-Hub",
      "mode": "managed",
      "type": "azurerm_virtual_network",
      "name": "vnet",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "10.3.0.0/22"
            ],
            "ddos_protection_plan": [],
            "dns_servers": [],
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet",
            "location": "southeastasia",
            "name": "Hub-VNet",
            "resource_group_name": "Hub-Network-RG",
            "subnet": [
              {
                "address_prefix": "10.3.0.0/26",
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/AzureFirewallSubnet",
                "name": "AzureFirewallSubnet",
                "security_group": ""
              },
              {
                "address_prefix": "10.3.0.128/26",
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-IntWAF-Net01",
                "name": "Hub-IntWAF-Net01",
                "security_group": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-IntWAF-NSG"
              },
              {
                "address_prefix": "10.3.0.192/27",
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/GatewaySubnet",
                "name": "GatewaySubnet",
                "security_group": ""
              },
              {
                "address_prefix": "10.3.0.224/27",
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/AzureBastionSubnet",
                "name": "AzureBastionSubnet",
                "security_group": ""
              },
              {
                "address_prefix": "10.3.0.64/26",
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-ExtWAF-Net01",
                "name": "Hub-ExtWAF-Net01",
                "security_group": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-ExtWAF-NSG"
              },
              {
                "address_prefix": "10.3.1.0/28",
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-Net01",
                "name": "Hub-Net01",
                "security_group": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-Net01-NSG"
              },
              {
                "address_prefix": "10.3.1.16/28",
                "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/Hub-WAD-Net01",
                "name": "Hub-WAD-Net01",
                "security_group": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/networkSecurityGroups/Hub-WAD-Net01-NSG"
              }
            ],
            "tags": {}
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_resource_group.rgroup"
          ]
        }
      ]
    },
    {
      "module": "module.Hub-S2S-VPN",
      "mode": "managed",
      "type": "azurerm_virtual_network_gateway",
      "name": "gateway_virtual",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "active_active": false,
            "bgp_settings": [
              {
                "asn": 65515,
                "peer_weight": 0,
                "peering_address": "10.3.0.222"
              }
            ],
            "default_local_network_gateway_id": null,
            "enable_bgp": false,
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworkGateways/Hub-VPN-GW01",
            "ip_configuration": [
              {
                "name": "Hub-VPN-GW01-PIP01-Config",
                "private_ip_address_allocation": "Dynamic",
                "public_ip_address_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/publicIPAddresses/Hub-VPN-GW01-PIP01",
                "subnet_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworks/Hub-VNet/subnets/GatewaySubnet"
              }
            ],
            "location": "southeastasia",
            "name": "Hub-VPN-GW01",
            "resource_group_name": "Hub-Network-RG",
            "sku": "VpnGw1",
            "tags": {},
            "type": "Vpn",
            "vpn_client_configuration": [],
            "vpn_type": "RouteBased"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_public_ip.gwpip"
          ]
        }
      ]
    },
    {
      "module": "module.Hub-S2S-VPN",
      "mode": "managed",
      "type": "azurerm_virtual_network_gateway_connection",
      "name": "s2s_connection",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "authorization_key": null,
            "enable_bgp": false,
            "express_route_circuit_id": null,
            "express_route_gateway_bypass": false,
            "id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/connections/Hub-Local-S2S-Connection01",
            "ipsec_policy": [],
            "local_network_gateway_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/localNetworkGateways/Hub-Local-VPN-GW01",
            "location": "southeastasia",
            "name": "Hub-Local-S2S-Connection01",
            "peer_virtual_network_gateway_id": null,
            "resource_group_name": "Hub-Network-RG",
            "routing_weight": 0,
            "shared_key": "u#d(W5;nl:z^",
            "tags": {},
            "type": "IPsec",
            "use_policy_based_traffic_selectors": false,
            "virtual_network_gateway_id": "/subscriptions/13ef02a6-7352-4c93-834e-b739a3a65a0b/resourceGroups/Hub-Network-RG/providers/Microsoft.Network/virtualNetworkGateways/Hub-VPN-GW01"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "azurerm_local_network_gateway.gateway_local",
            "azurerm_virtual_network_gateway.gateway_virtual"
          ]
        }
      ]
    }
  ]
}
